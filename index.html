<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Digitory ‚Äî z n√°padu do reality</title>
  <meta name="description" content="Digitory: z n√°padu do reality. Technologie, automatizace a chytr√° ≈ôe≈°en√≠ v modern√≠m designu." />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --accent:#DDA756;
      --accent2:#ffb84d;
      --bg:#0A0A0A;
      --text:#F5F5F6;
      --muted:#B9BDC3;
      --border:rgba(255,255,255,.10);
      --glass:rgba(255,255,255,.06);
      --max:1200px;
      --radius:16px;
    }
    /* === FIX: odstranit jak√©koliv lok√°ln√≠ pozad√≠/bordery za nadpisem v #ai === */
#ai,
#ai * {
  background-image: none !important;
}

#ai,
#ai .ai-wrap,
#ai .ai-headline {
  background-color: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

/* zlikvidovat pseudo-elementy, co dƒõlaj√≠ p√°s/ƒç√°ru */
#ai .ai-headline::before,
#ai .ai-headline::after,
#ai .ai-wrap::before,
#ai .ai-wrap::after {
  content: none !important;
  display: none !important;
}

/* kdyby tam byl hr/divider pod nadpisem */
#ai hr,
#ai .divider,
#ai .section-divider {
  display: none !important;
  border: 0 !important;
}

/* pro jistotu typiƒçt√≠ ‚Äúvin√≠ci‚Äù v ≈°ablon√°ch */
#ai .section,
#ai .panel,
#ai .box,
#ai .container,
#ai .wrapper {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

/* samotn√© karty (chat, odhad) nech√°me glass ‚Äì ty ≈°vy nedƒõlaj√≠ */
#ai .chat,
#ai .estimate {
  background: rgba(255,255,255,.05) !important;
  border: 1px solid rgba(255,255,255,.10) !important;
  box-shadow: 0 20px 48px rgba(0,0,0,.35) !important;
}


    *{box-sizing:border-box}
    html{scroll-behavior:smooth}

    /* --- Jednotn√° base barva (pod ambient) --- */
    body{
      margin:0;
      background:#0A0A0A;
      color:var(--text);
      font-family:'Poppins',system-ui,Segoe UI,Roboto,Arial,sans-serif;
      overflow-x:hidden;
    }

    /* --- JEDNO spoleƒçn√© ambientn√≠ pozad√≠ pro CEL√ù web --- */
    .page-ambient{
      position:fixed;
      inset:-40% -20% -40% -20%;
      z-index:-1;
      pointer-events:none;
      filter:blur(80px);
      opacity:.95;
      background:
        radial-gradient(44rem 44rem at 18% 12%, rgba(255,190,90,.50), transparent 65%),
        radial-gradient(36rem 36rem at 82% 16%, rgba(255,210,130,.24), transparent 62%),
        radial-gradient(30rem 30rem at 60% 80%, rgba(221,167,86,.24), transparent 65%),
        linear-gradient(180deg,#0A0A0A,#0C0C0C);
      animation:ambientFloat 16s ease-in-out infinite alternate;
    }
    @keyframes ambientFloat{to{transform:translateY(-24px)}}

    /* --- NAVBAR --- */
    header{
      position:sticky; top:0; z-index:100;
      background:rgba(10,10,10,.65);
      backdrop-filter:blur(10px);
      border-bottom:1px solid rgba(255,255,255,.05);
    }
    .nav{max-width:1200px;margin:0 auto;padding:14px 24px;display:flex;align-items:center;justify-content:space-between}
    .nav-links{display:flex;gap:24px}
    .nav-links a{color:#f2f2f2;text-decoration:none;font-weight:500;font-size:15px;position:relative;transition:color .3s}
    .nav-links a::after{content:"";position:absolute;left:0;bottom:-4px;width:0;height:2px;background:var(--accent);transition:width .3s}
    .nav-links a:hover{color:var(--accent)} .nav-links a:hover::after{width:100%}
    .nav-logo img{height:38px;width:auto;filter:drop-shadow(0 0 8px rgba(221,167,86,.3));transition:transform .3s}
    .nav-logo img:hover{transform:scale(1.05)}
    @media (max-width:850px){.nav{flex-direction:column;gap:10px}.nav-links{gap:16px}}

    /* --- HERO --- */
    .hero{position:relative;padding:96px 16px 24px;max-width:1100px;margin:auto;text-align:center}
    h1{margin:0 0 6px;font-size:clamp(48px,8vw,92px);line-height:1.05;font-weight:800;letter-spacing:-.02em;opacity:0;transform:translateY(14px);animation:fadeUp .8s .1s forwards}
    .slogan{font-size:clamp(22px,3vw,32px);font-weight:500;color:var(--accent2);opacity:0;transform:translateY(14px);animation:fadeUp .9s .25s forwards}
    .sub{margin:14px auto 0;max-width:750px;font-size:18px;color:#DADDE2;line-height:1.6;opacity:0;transform:translateY(16px);animation:fadeUp 1s .35s forwards}
    @keyframes fadeUp{to{opacity:1;transform:none}}

    .cta-hero-extension{padding:10px 16px 18px}
    .cta-wrap{max-width:1100px;margin:0 auto;text-align:center}
    .cta-buttons{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin-top:8px}
    .btn{display:inline-block;border-radius:999px;padding:12px 22px;font-weight:600;transition:.25s;border:2px solid transparent;text-decoration:none}
    .btn-accent{background:var(--accent);color:#111;box-shadow:0 0 18px rgba(221,167,86,.25)}
    .btn-accent:hover{transform:translateY(-2px);filter:saturate(1.06) brightness(1.04)}
    .btn-outline{background:transparent;border-color:var(--accent);color:var(--accent)}
    .btn-outline:hover{background:var(--accent);color:#111;transform:translateY(-2px)}

    /* --- AI (bez vlastn√≠ho pozad√≠; jen glass uvnit≈ô) --- */
    section#ai{background:transparent !important;padding:52px 16px 80px}
    .ai-wrap{width:100%;max-width:var(--max);margin:0 auto;animation:fadeIn .7s ease}
    .ai-headline{text-align:center;margin-bottom:18px}
    .ai-headline h2{font-size:clamp(28px,4.6vw,44px);margin:0 0 6px}
    .ai-headline h2 span{color:var(--accent)}
    .ai-headline p{color:#d7d7d7;max-width:860px;margin:0 auto;line-height:1.6}

    .ai-layout{display:grid;grid-template-columns:1.25fr .85fr;gap:22px;align-items:stretch}
    @media (max-width:1024px){.ai-layout{grid-template-columns:1fr}}

    .chat{display:flex;flex-direction:column;height:68vh;min-height:520px;background:rgba(255,255,255,.05);border:1px solid var(--border);border-radius:var(--radius);backdrop-filter:blur(10px);box-shadow:0 20px 48px rgba(0,0,0,.35)}
    .chat-stream{flex:1;overflow:auto;padding:18px;display:flex;flex-direction:column;gap:10px}
    .msg{max-width:80%;border-radius:14px;padding:10px 14px;line-height:1.45;font-size:15px;background:rgba(255,255,255,.07);border:1px solid rgba(255,255,255,.10);align-self:flex-start}
    .msg.user{background:rgba(0,0,0,.35);color:#fff;border-color:rgba(255,255,255,.18);align-self:flex-end}
    .chat-input{display:flex;gap:10px;padding:12px;border-top:1px solid var(--border);background:rgba(255,255,255,.04)}
    .chat-input input{flex:1;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.05);color:#fff;border-radius:10px;padding:12px 14px;outline:none}
    .chat-input input::placeholder{color:#aaa}
    .chat-input button{border:none;border-radius:10px;padding:12px 16px;font-weight:600;cursor:pointer;background:var(--accent);color:#111;transition:.2s}
    .chat-input button:hover{transform:translateY(-1px)}

    .estimate{display:flex;flex-direction:column;gap:14px;height:68vh;min-height:520px;background:rgba(255,255,255,.04);border:1px solid var(--border);border-radius:var(--radius);backdrop-filter:blur(10px);padding:16px;box-shadow:0 20px 48px rgba(0,0,0,.35)}
    .est-head{display:flex;align-items:center;justify-content:space-between}
    .est-head h3{margin:0;font-size:20px}
    .btn-ghost{display:inline-block;border-radius:999px;padding:10px 16px;font-weight:700;border:2px solid var(--accent);color:var(--accent);background:transparent;text-decoration:none;transition:.2s}
    .btn-ghost:hover{background:var(--accent);color:#111}
    .btn-accent{display:inline-block;border-radius:999px;padding:10px 16px;font-weight:700;border:2px solid transparent;background:var(--accent);color:#111;text-decoration:none;box-shadow:0 0 18px rgba(221,167,86,.22);transition:.2s}
    .btn-accent:hover{transform:translateY(-1px)}
    .est-empty{flex:1;display:grid;place-items:center;color:#cfcfcf;text-align:center;padding:10px 12px}
    .est-result{flex:1;display:flex;flex-direction:column;gap:14px}
    .est-table{width:100%;border-collapse:separate;border-spacing:0;overflow:hidden;border:1px solid var(--border);border-radius:12px;background:rgba(255,255,255,.03)}
    .est-table th,.est-table td{padding:12px 14px;text-align:left;border-bottom:1px solid rgba(255,255,255,.06)}
    .est-table th{width:40%;color:#e9e9e9}
    .est-table tr:last-child th,.est-table tr:last-child td{border-bottom:0}
    .est-notes h4{margin:0 0 6px;color:#eaeaea}
    .est-notes ul{margin:0;padding-left:18px;color:#d5d5d5;line-height:1.55}
    .est-cta{display:flex;gap:10px;flex-wrap:wrap;margin-top:auto}
  </style>
</head>

<body>
  <!-- JEDIN√Å AMBIENTN√ç VRSTVA POZAD√ç -->
  <div class="page-ambient" aria-hidden="true"></div>

  <!-- NAVBAR -->
  <header>
    <nav class="nav">
      <div class="nav-links">
        <a href="#">Dom≈Ø</a>
        <a href="onas.html">O n√°s</a>
        <a href="#">Slu≈æby</a>
        <a href="#ai">AI</a>
        <a href="#">Kontakt</a>
      </div>
      <div class="nav-logo">
        <img src="assets/digitory-logoo.png" alt="Digitory logo">
      </div>
    </nav>
  </header>

  <!-- HERO -->
  <main class="hero" id="home">
    <h1>Digitory</h1>
    <div class="slogan">Z n√°padu do reality</div>
    <p class="sub">
      Pom√°h√°me lidem a firm√°m promƒõnit n√°pady v digit√°ln√≠ realitu.
      Na≈°e ≈ôe≈°en√≠ ≈°et≈ô√≠ ƒças, zjednodu≈°uj√≠ procesy a otev√≠raj√≠ nov√© mo≈ænosti.
    </p>
  </main>

  <!-- CTA pod hero -->
  <section class="cta-hero-extension">
    <div class="cta-wrap">
      <div class="cta-buttons">
        <a href="#what" class="btn btn-accent">Slu≈æby</a>
        <a href="#contact" class="btn btn-outline">Kontakt</a>
      </div>
    </div>
  </section>

  <!-- DIGITORY AI ‚Äî CHAT + ODHAD (bez vlastn√≠ho pozad√≠) -->
  <section id="ai">
    <div class="ai-wrap">
      <header class="ai-headline">
        <h2><span>Digitory AI</span> ‚Äî napi≈°te, co pot≈ôebujete</h2>
        <p>Popi≈°te sv≈Øj z√°mƒõr v chatu (klidnƒõ po ƒç√°stech). Potom kliknƒõte na <b>Vypoƒç√≠tat odhad</b> a uvid√≠te ƒças, cenu a n√°roƒçnost. (Uk√°zkov√° logika, bez napojen√≠ na backend.)</p>
      </header>

      <div class="ai-layout">
        <!-- CHAT -->
        <div class="chat">
          <div class="chat-stream" id="chatStream">
            <div class="msg">
              <b>Digitory AI:</b> Ahoj! Co pot≈ôebuje≈° vy≈ôe≈°it? Klidnƒõ napi≈°: ‚Äûautomatizace faktur‚Äú, ‚Äûe-shop se 6 str√°nkami‚Äú, ‚ÄûAI doporuƒçov√°n√≠‚Äú, ‚Äûnapojen√≠ na CRM‚Äú, ‚ÄûCZ+EN‚Äú atd.
            </div>
          </div>
          <div class="chat-input">
            <input id="chatInput" type="text" placeholder="Napi≈° zpr√°vu a stiskni Enter‚Ä¶" />
            <button id="sendBtn" type="button" aria-label="Odeslat">Odeslat</button>
          </div>
        </div>

        <!-- ODHAD -->
        <aside class="estimate">
          <div class="est-head">
            <h3>Odhad projektu</h3>
            <button id="calcBtn" class="btn-accent" type="button">Vypoƒç√≠tat odhad</button>
          </div>

          <div id="estEmpty" class="est-empty">
            ‚úçÔ∏è A≈æ dop√≠≈°ete zad√°n√≠ do chatu, kliknƒõte na <b>Vypoƒç√≠tat odhad</b>.
          </div>

          <div id="estResult" class="est-result" hidden>
            <table class="est-table">
              <tbody>
                <tr><th>Odhadovan√Ω ƒças</th><td id="estDays">‚Äî</td></tr>
                <tr><th>P≈ôedbƒõ≈æn√° cena</th><td id="estPrice">‚Äî</td></tr>
                <tr><th>N√°roƒçnost</th><td id="estLevel">‚Äî</td></tr>
              </tbody>
            </table>

            <div class="est-notes">
              <h4>Co jsme zohlednili</h4>
              <ul id="estFactors"></ul>
            </div>

            <div class="est-cta">
              <a href="kontakt.html" class="btn-ghost">Domluvit konzultaci</a>
              <a href="kontakt.html" class="btn-accent">Chci up≈ôesnit nab√≠dku</a>
            </div>
          </div>
        </aside>
      </div>
    </div>
  </section>

  <script>
    // Chat UI
    const stream = document.getElementById('chatStream');
    const input  = document.getElementById('chatInput');
    const sendBtn= document.getElementById('sendBtn');

    function addMsg(text, who='user'){
      const div = document.createElement('div');
      div.className = 'msg' + (who==='user' ? ' user' : '');
      div.innerHTML = (who==='bot' ? '<b>Digitory AI:</b> ' : '') + text;
      stream.appendChild(div);
      stream.scrollTop = stream.scrollHeight;
    }
    function handleSend(){
      const t = input.value.trim();
      if(!t) return;
      addMsg(t,'user');
      input.value = '';
    }
    input.addEventListener('keydown', e=>{ if(e.key==='Enter') handleSend(); });
    sendBtn.addEventListener('click', handleSend);

    // Heuristick√Ω v√Ωpoƒçet (demo)
    const calcBtn    = document.getElementById('calcBtn');
    const estEmpty   = document.getElementById('estEmpty');
    const estRes     = document.getElementById('estResult');
    const estDays    = document.getElementById('estDays');
    const estPrice   = document.getElementById('estPrice');
    const estLevel   = document.getElementById('estLevel');
    const estFactors = document.getElementById('estFactors');

    function extractConversationText(){
      return Array.from(stream.querySelectorAll('.msg.user'))
                  .map(n=>n.textContent).join(' ').toLowerCase();
    }
    function numberFromText(re, text){
      const m = text.match(re);
      return m ? parseInt(m[1],10) : 0;
    }

    calcBtn.addEventListener('click', ()=>{
      const txt = extractConversationText();
      if(!txt){
        estEmpty.textContent = '‚ö†Ô∏è Napi≈°te nejd≈ô√≠v nƒõco do chatu (co pot≈ôebujete).';
        estRes.hidden = true; return;
      }

      let days = 2, price = 12000; const notes = [];

      if(/e-?shop|eshop|shop/i.test(txt)){ days+=7; price+=40000; notes.push('E-shop / ko≈°√≠k / objedn√°vky'); }
      if(/\bweb(?!socket)\b|str√°nk/i.test(txt)){ days+=3; price+=18000; notes.push('Web / prezentaƒçn√≠ ƒç√°st'); }
      if(/ai|machine learning|doporuƒçov√°n/i.test(txt)){ days+=5; price+=35000; notes.push('AI / doporuƒçov√°n√≠'); }
      if(/automatizac/i.test(txt)){ days+=4; price+=22000; notes.push('Automatizace proces≈Ø'); }
      if(/integrac/i.test(txt)){ days+=3; price+=15000; notes.push('Integrace na extern√≠ syst√©my'); }
      if(/crm|erp|pohoda|sap|salesforce|shopify|shoptet|woo|woocommerce/i.test(txt)){ days+=3; price+=20000; notes.push('Napojen√≠ na CRM/ERP/e-shop platformu'); }
      if(/platebn/i.test(txt)){ days+=2; price+=12000; notes.push('Platebn√≠ br√°ny'); }
      if(/sklad|logistik/i.test(txt)){ days+=3; price+=15000; notes.push('Sklad/Logistika'); }

      const pages = numberFromText(/(\d+)\s*(stran|str√°nek|strany|pages?)/i, txt);
      if(pages>0){ days += Math.ceil(pages*0.8); price += pages*3000; notes.push(`Rozsah: ~${pages} str√°nek`); }

      const langs = (txt.match(/\b(cs|cz|ƒçesky|sk|slovak|en|eng|anglicky|pl|polsk|de|nƒõmecky|hu|maƒèar)/gi)||[]).length;
      if(langs>1){ const extra = Math.max(0,langs-1); days += extra*1; price += extra*5000; notes.push(`V√≠cejazyƒçnost: +${extra}`); }

      if(/urgent|rychle|co nejd≈ô√≠v|dnes|z√≠tra|express|expres/i.test(txt)){
        price = Math.round(price*1.35); days = Math.max(2, Math.ceil(days*0.85)); notes.push('Expresn√≠ po≈æadavek (p≈ô√≠platek)');
      }

      let level = 'üü¢ st≈ôedn√≠';
      if(days >= 12 || price >= 70000) level = 'üü† vy≈°≈°√≠';
      if(days >= 18 || price >= 120000) level = 'üî¥ vysok√°';

      estDays.textContent  = `${days} dn√≠`;
      estPrice.textContent = `${price.toLocaleString('cs-CZ')} Kƒç`;
      estLevel.textContent = level;

      estFactors.innerHTML = notes.length ? notes.map(n=>`<li>${n}</li>`).join('') : '<li>Z√°kladn√≠ rozsah (up≈ôesn√≠me na konzultaci)</li>';

      estEmpty.hidden = true;
      estRes.hidden = false;
    });
  </script>
</body>
</html>

